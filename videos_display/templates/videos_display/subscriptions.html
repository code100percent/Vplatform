{% extends 'base.html' %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/subscriptions.css">
{% endblock %}

{% block content %}
<div class="subscriptions-container">
    <h2 class="subscriptions-title">Your Subscriptions</h2>
    <div class="subscriptions-list">
        {% for channel in subscribed_channels %}
        <div class="subscription-card">
            <div class="channel-avatar user-avatar user-avatar-circle" title="{{ channel.username }}">
                <span class="user-avatar-initial">{{ channel.username|slice:':1'|upper }}</span>
            </div>
            <div class="channel-details">
                <div class="channel-username">{{ channel.username }}</div>
                <div class="channel-email">{{ channel.email }}</div>
            </div>
        </div>
        {% empty %}
        <p>You are not subscribed to any channels.</p>
        {% endfor %}
    </div>
    <h3 class="subscriptions-title" style="margin-top:36px;">Videos from Subscribed Channels</h3>
    <div class="subscribed-videos-grid">
        {% for video in subscribed_videos %}
        <div class="video-card">
            <div class="thumbnail-container">
                <a href="/video/{{ video.id }}/">
                    <img src="{{ video.thumbnail.url }}" alt="{{ video.title }}">
                    <div class="duration-badge">{{ video.duration }}</div>
                    <div class="hover-overlay"></div>
                </a>
            </div>
            <div class="video-info">
                <div class="channel-avatar user-avatar user-avatar-circle" title="{{ video.username }}">
                    <span class="user-avatar-initial">{{ video.username|slice:':1'|upper }}</span>
                </div>
                <div class="video-details">
                    <h3 class="video-title">
                        <a href="/video/{{ video.id }}/">{{ video.title }}</a>
                    </h3>
                    <div class="channel-info">
                        <a href="#" class="channel-name">{{ video.username }}</a>
                    </div>
                    <div class="video-stats">
                        <span>{{ video.views }} views</span>
                        <span class="stat-separator">•</span>
                        <span>{{ video.published_date }}</span>
                        <br>
                        <i class="fas fa-thumbs-up"></i> {{ video.likes }}
                        <span class="stat-separator">•</span>
                        <i class="fas fa-thumbs-down"></i> {{ video.dislikes }}
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <p>No videos from your subscriptions yet.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
